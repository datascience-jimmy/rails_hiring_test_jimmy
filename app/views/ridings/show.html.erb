<p style="color: green"><%= notice %></p>

<h1 class="text-xl font-semibold leading-6 text-gray-900"><%= @riding.name %> - <%= @riding.riding_code %></h1>
<%= @riding.province %>

<h2 class="mt-4 text-lg font-semibold leading-6 text-gray-900">Polling locations</h2>

<div data-controller="edit-polling-location">

  <div data-edit-polling-location-target="messageBox"></div>
  <div data-edit-polling-location-target="modalContainer"></div>

  <div class="mt-6 p-6 border border-gray-500 rounded-lg grid grid-cols-7 gap-y-2">
    <div class="col-span-2 font-medium">Title</div>
    <div class="col-span-1 font-medium">Address</div>
    <div class="col-span-1 font-medium">City</div>
    <div class="col-span-1 font-medium">Postal code</div>
    <div class="col-span-1 font-medium">Polls</div>
    <div class="col-span-1 font-medium">Action</div>

    <% if @polling_locations.any? %>
      <% @polling_locations.each do |polling_location| %>
        <div class="col-span-7 grid grid-cols-7 gap-y-2 polling-location-row">

          <!-- Read-Only Display -->
          <div class="col-span-2" data-edit-polling-location-target="display">
            <span><%= polling_location.title %></span>
          </div>
          <div class="col-span-1" data-edit-polling-location-target="display">
            <span><%= polling_location.address %></span>
          </div>
          <div class="col-span-1" data-edit-polling-location-target="display">
            <span><%= polling_location.city %></span>
          </div>
          <div class="col-span-1" data-edit-polling-location-target="display">
            <span><%= polling_location.postal_code %></span>
          </div>
          <div class="col-span-1" data-edit-polling-location-target="display">
            <span><%= polling_location.polls.map(&:number).join(", ") %></span>
          </div>

          <!-- Edit Button -->
          <div class="col-span-1">
            <button
              class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md
              text-white bg-red-600 shadow-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2
              focus:ring-red-500 transition ease-in-out duration-150"
              data-action="click->edit-polling-location#edit"
              data-polling-location-id="<%= polling_location.id %>"
              data-polling-location-title="<%= polling_location.title %>"
              data-polling-location-address="<%= polling_location.address %>"
              data-polling-location-city="<%= polling_location.city %>"
              data-polling-location-postal-code="<%= polling_location.postal_code %>"
              data-polling-location-polls="<%= polling_location.polls.map(&:number).join(", ") %>"
            >
              Edit
            </button>
          </div>

        </div>
      <% end %>
    <% else %>
      <div class="col-span-7 text-center mt-3">No polling locations</div>
    <% end %>
  </div>
</div>
